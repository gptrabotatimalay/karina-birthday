# ü§ñ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ Tiled

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é Python —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç –∏ tilesets.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [Tileset Generator](#tileset-generator) - –°–æ–∑–¥–∞–Ω–∏–µ .tsx –∏–∑ PNG
- [Room Generator](#room-generator) - –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–º–Ω–∞—Ç
- [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- [–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏](#–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ-—Ç–µ—Ö–Ω–∏–∫–∏)

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
pip3 install -r requirements.txt
```

–≠—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç:
- **Pillow** - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É

```bash
python3 tools/tileset_generator.py
python3 tools/room_generator.py
```

–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ —Å–ø—Ä–∞–≤–∫—É –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é - –≤—Å—ë –≥–æ—Ç–æ–≤–æ! ‚úÖ

---

## üé® Tileset Generator

–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ .tsx —Ñ–∞–π–ª—ã –¥–ª—è Tiled.

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –°–æ–∑–¥–∞—Ç—å .tsx –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
python3 tools/tileset_generator.py public/assets/tilesets/room_structure.png

# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ PNG –≤ –ø–∞–ø–∫–µ
python3 tools/tileset_generator.py public/assets/tilesets/

# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –º–µ–±–µ–ª—å
python3 tools/tileset_generator.py public/assets/furniture/
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|----------|----------|--------|
| `--output`, `-o` | –ü—É—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è .tsx | `--output tileset.tsx` |
| `--tile-size` | –†–∞–∑–º–µ—Ä —Ç–∞–π–ª–∞ (–∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–π) | `--tile-size 32` |
| `--tile-width` | –®–∏—Ä–∏–Ω–∞ —Ç–∞–π–ª–∞ | `--tile-width 16` |
| `--tile-height` | –í—ã—Å–æ—Ç–∞ —Ç–∞–π–ª–∞ | `--tile-height 16` |
| `--spacing` | –û—Ç—Å—Ç—É–ø –º–µ–∂–¥—É —Ç–∞–π–ª–∞–º–∏ | `--spacing 1` |
| `--margin` | –û—Ç—Å—Ç—É–ø –æ—Ç –∫—Ä–∞—è | `--margin 1` |
| `--name`, `-n` | –ò–º—è tileset | `--name my_tiles` |

### –ü—Ä–∏–º–µ—Ä—ã

```bash
# Tileset —Å —Ä–∞–∑–º–µ—Ä–æ–º 32x32
python3 tools/tileset_generator.py large_tiles.png --tile-size 32

# –° –æ—Ç—Å—Ç—É–ø–∞–º–∏ –º–µ–∂–¥—É —Ç–∞–π–ª–∞–º–∏
python3 tools/tileset_generator.py tiles.png --spacing 2 --margin 1

# –£–∫–∞–∑–∞—Ç—å –∏–º—è –∏ –ø—É—Ç—å
python3 tools/tileset_generator.py tiles.png \
  --name "My Tileset" \
  --output public/assets/tilesets/my_tileset.tsx
```

### –ß—Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è?

–°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç `.tsx` —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –º–æ–∂–µ—Ç–µ:
1. –û—Ç–∫—Ä—ã—Ç—å –≤ Tiled —á–µ—Ä–µ–∑ `File ‚Üí Open`
2. –î–æ–±–∞–≤–∏—Ç—å –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–∞—Ä—Ç–µ —á–µ—Ä–µ–∑ `Map ‚Üí Add External Tileset`
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ .tsx —Ñ–∞–π–ª–∞:**
```xml
<?xml version="1.0" encoding="UTF-8"?>
<tileset version="1.10" name="room_structure"
         tilewidth="16" tileheight="16"
         tilecount="374" columns="17">
  <image source="room_structure.png" width="272" height="368"/>
</tileset>
```

---

## üè† Room Generator

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≥–æ—Ç–æ–≤—ã–µ –∫–æ–º–Ω–∞—Ç—ã —Å –ø–æ–ª–æ–º, —Å—Ç–µ–Ω–∞–º–∏ –∏ –º–µ–±–µ–ª—å—é.

### –¢–∏–ø—ã –∫–æ–º–Ω–∞—Ç

–î–æ—Å—Ç—É–ø–Ω—ã 3 —Ç–∏–ø–∞ –∫–æ–º–Ω–∞—Ç:
- **bedroom** - –°–ø–∞–ª—å–Ω—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 20√ó15 —Ç–∞–π–ª–æ–≤)
- **kitchen** - –ö—É—Ö–Ω—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 18√ó12 —Ç–∞–π–ª–æ–≤)
- **bathroom** - –í–∞–Ω–Ω–∞—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 12√ó10 —Ç–∞–π–ª–æ–≤)

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –°–æ–∑–¥–∞—Ç—å —Å–ø–∞–ª—å–Ω—é
python3 tools/room_generator.py bedroom public/assets/tilemaps/bedroom.json

# –°–æ–∑–¥–∞—Ç—å –∫—É—Ö–Ω—é
python3 tools/room_generator.py kitchen public/assets/tilemaps/kitchen.json

# –°–æ–∑–¥–∞—Ç—å –≤–∞–Ω–Ω—É—é
python3 tools/room_generator.py bathroom public/assets/tilemaps/bathroom.json
```

### –° –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏

```bash
# –ë–æ–ª—å—à–∞—è —Å–ø–∞–ª—å–Ω—è 30√ó20 —Ç–∞–π–ª–æ–≤
python3 tools/room_generator.py bedroom \
  public/assets/tilemaps/big_bedroom.json 30 20

# –ú–∞–ª–µ–Ω—å–∫–∞—è –∫—É—Ö–Ω—è 10√ó8 —Ç–∞–π–ª–æ–≤
python3 tools/room_generator.py kitchen \
  public/assets/tilemaps/small_kitchen.json 10 8
```

### –ß—Ç–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è?

–ö–∞–∂–¥–∞—è –∫–æ–º–Ω–∞—Ç–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç:

1. **–°–ª–æ–π Floor** - –ø–æ–ª —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ç–∏–ø–∞
   - –°–ø–∞–ª—å–Ω—è: –∫–æ—Ä–∏—á–Ω–µ–≤—ã–π –ø–∞—Ä–∫–µ—Ç
   - –ö—É—Ö–Ω—è: –∫—Ä–∞—Å–Ω—ã–π –∫–∞—Ñ–µ–ª—å
   - –í–∞–Ω–Ω–∞—è: –≥–æ–ª—É–±–æ–π –∫–∞—Ñ–µ–ª—å

2. **–°–ª–æ–π Walls** - —Å—Ç–µ–Ω—ã –ø–æ –ø–µ—Ä–∏–º–µ—Ç—Ä—É
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≥–ª—ã
   - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã

3. **–°–ª–æ–π Furniture** - –º–µ–±–µ–ª—å –ø–æ —Å–µ—Ç–∫–µ
   - –°–ø–∞–ª—å–Ω—è: –∫—Ä–æ–≤–∞—Ç–∏, —Ç—É–º–±–æ—á–∫–∏, —à–∫–∞—Ñ—ã
   - –ö—É—Ö–Ω—è: —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫, –ø–ª–∏—Ç–∞, —Å—Ç–æ–ª
   - –í–∞–Ω–Ω–∞—è: –≤–∞–Ω–Ω–∞, —É–Ω–∏—Ç–∞–∑, —Ä–∞–∫–æ–≤–∏–Ω–∞

4. **–°–ª–æ–π Decoration** - –ø—É—Å—Ç–æ–π —Å–ª–æ–π –¥–ª—è –¥–µ–∫–æ—Ä–∞—Ü–∏–π

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
üõèÔ∏è  –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ø–∞–ª—å–Ω–∏ 20x15...
   üì¶ Tileset 1: floor_bedroom (GID 1, 100 —Ç–∞–π–ª–æ–≤)
   üì¶ Tileset 2: room_structure (GID 101, 374 —Ç–∞–π–ª–æ–≤)
   üì¶ Tileset 3: furniture_props (GID 475, 1050 —Ç–∞–π–ª–æ–≤)
   üé® –°–ª–æ–π 'Floor': –∑–∞–ø–æ–ª–Ω–µ–Ω —Ç–∞–π–ª–æ–º 61
   üß± –°–ª–æ–π 'Walls': –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç–µ–Ω—ã –ø–æ –ø–µ—Ä–∏–º–µ—Ç—Ä—É
   ü™ë –°–ª–æ–π 'Furniture': —Ä–∞–∑–º–µ—â–µ–Ω–æ 5 –æ–±—ä–µ–∫—Ç–æ–≤ –º–µ–±–µ–ª–∏

‚úÖ –ö–∞—Ä—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞: public/assets/tilemaps/bedroom.json
   üìê –†–∞–∑–º–µ—Ä: 20x15 —Ç–∞–π–ª–æ–≤ (320x240px)
   üìä –°–ª–æ—ë–≤: 4
   üé® Tilesets: 3
```

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –°–æ–∑–¥–∞—Ç—å –≤—Å–µ .tsx —Ñ–∞–π–ª—ã

```bash
# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ tilesets
python3 tools/tileset_generator.py public/assets/tilesets/

# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –º–µ–±–µ–ª—å
python3 tools/tileset_generator.py public/assets/furniture/
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ PNG —Ñ–∞–π–ª—ã –ø–æ–ª—É—á–∞—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ .tsx —Ñ–∞–π–ª—ã.

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ë—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç—Ä—ë—Ö –∫–æ–º–Ω–∞—Ç

```bash
# –°–æ–∑–¥–∞—Ç—å –≤—Å–µ —Ç–∏–ø—ã –∫–æ–º–Ω–∞—Ç
python3 tools/room_generator.py bedroom public/assets/tilemaps/auto_bedroom.json
python3 tools/room_generator.py kitchen public/assets/tilemaps/auto_kitchen.json
python3 tools/room_generator.py bathroom public/assets/tilemaps/auto_bathroom.json
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 3 –≥–æ—Ç–æ–≤—ã–µ –∫–æ–º–Ω–∞—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã—Ç—å –≤ Tiled.

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –°–æ–∑–¥–∞—Ç—å –∫–≤–∞—Ä—Ç–∏—Ä—É –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–º–Ω–∞—Ç

```bash
# –ë–æ–ª—å—à–∞—è –≥–æ—Å—Ç–∏–Ω–∞—è
python3 tools/room_generator.py bedroom public/assets/tilemaps/living_room.json 25 20

# –ú–∞–ª–µ–Ω—å–∫–∞—è —Å–ø–∞–ª—å–Ω—è
python3 tools/room_generator.py bedroom public/assets/tilemaps/small_bedroom.json 15 12

# –ü—Ä–æ—Å—Ç–æ—Ä–Ω–∞—è –∫—É—Ö–Ω—è
python3 tools/room_generator.py kitchen public/assets/tilemaps/big_kitchen.json 20 15

# –í–∞–Ω–Ω–∞—è
python3 tools/room_generator.py bathroom public/assets/tilemaps/bathroom.json
```

**–î–∞–ª–µ–µ:** –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª—ã –≤ Tiled –∏ —Å–∫–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ –≤ –æ–¥–Ω—É –±–æ–ª—å—à—É—é –∫–∞—Ä—Ç—É.

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∏–≥—Ä–µ

–ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–º–Ω–∞—Ç—ã:

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –≤ Tiled –¥–ª—è —Ä—É—á–Ω–æ–π –¥–æ—Ä–∞–±–æ—Ç–∫–∏
2. –î–æ–±–∞–≤—å—Ç–µ –¥–≤–µ—Ä–∏, –æ–∫–Ω–∞, –¥–µ–∫–æ—Ä–∞—Ü–∏–∏
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–ª–ª–∏–∑–∏–∏ (Walls –∏ Furniture —Å–ª–æ–∏)
4. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–∞–∫ JSON
5. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤ PreloadScene.js:

```javascript
// –í PreloadScene.js
this.load.tilemapTiledJSON('bedroom', 'assets/tilemaps/auto_bedroom.json');

// –í GameScene.js
const map = this.make.tilemap({ key: 'bedroom' });
```

---

## üîß –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏

### –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è room_generator.py

–í—ã –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è:

#### 1. –ò–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å—Ç–µ–Ω

```python
# –í —Ñ—É–Ω–∫—Ü–∏–∏ generate_bedroom()
wall_config = {
    'top_left': (0, 4),      # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ room_structure.png
    'top': (1, 4),
    'top_right': (2, 4),
    # ... –∏ —Ç.–¥.
}
```

#### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π –º–µ–±–µ–ª–∏

```python
bedroom_furniture = [
    (0, 1),   # –ö—Ä–æ–≤–∞—Ç—å
    (1, 1),   # –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –∫—Ä–æ–≤–∞—Ç–∏
    (5, 10),  # –ù–æ–≤—ã–π –ø—Ä–µ–¥–º–µ—Ç!
    # ... –¥–æ–±–∞–≤—å—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–∑ furniture_props.png
]
```

–ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:
1. –û—Ç–∫—Ä–æ–π—Ç–µ furniture_props.png
2. –ü–æ—Å—á–∏—Ç–∞–π—Ç–µ –∫–æ–ª–æ–Ω–∫–∏ (X) –∏ —Å—Ç—Ä–æ–∫–∏ (Y) —Ç–∞–π–ª–∞
3. –ü–µ—Ä–≤—ã–π —Ç–∞–π–ª = (0, 0), –≤—Ç–æ—Ä–æ–π = (1, 0) –∏ —Ç.–¥.

#### 3. –°–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –∫–æ–º–Ω–∞—Ç—ã

–î–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –≤ `room_generator.py`:

```python
def generate_corridor(output_path: Path, width: int = 30, height: int = 5):
    """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ—Ä–∏–¥–æ—Ä"""
    print(f"\nüö™ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ—Ä–∏–¥–æ—Ä–∞ {width}x{height}...")

    room = RoomGenerator(width, height)

    # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞...

    room.save(output_path)
```

–ó–∞—Ç–µ–º –¥–æ–±–∞–≤—å—Ç–µ –≤ `main()`:

```python
elif room_type == "corridor":
    generate_corridor(output_path, width or 30, height or 5)
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª–∞—Å—Å—ã –∏–∑ `room_generator.py`:

```python
from tools.room_generator import RoomGenerator, TilesetInfo
from pathlib import Path

# –°–æ–∑–¥–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—É—é –∫–æ–º–Ω–∞—Ç—É
room = RoomGenerator(width=25, height=20)

# –î–æ–±–∞–≤–∏—Ç—å tileset
tileset = TilesetInfo(
    name="my_tiles",
    image_path=Path("path/to/tiles.png"),
    first_gid=1
)
room.add_tileset(tileset)

# –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø–æ–ª
room.fill_floor("Floor", tileset, tile_col=0, tile_row=0)

# –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–µ–Ω—ã
wall_config = {
    'top_left': (0, 0),
    'top': (1, 0),
    # ...
}
room.add_walls("Walls", tileset, wall_config)

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
room.save(Path("output.json"))
```

---

## üéØ Workflow: –û—Ç PNG –¥–æ –∏–≥—Ä—ã

### –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å

```bash
# 1. –°–æ–∑–¥–∞—Ç—å .tsx —Ñ–∞–π–ª—ã –∏–∑ –≤–∞—à–∏—Ö PNG
python3 tools/tileset_generator.py public/assets/tilesets/
python3 tools/tileset_generator.py public/assets/furniture/

# 2. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—É—é –∫–æ–º–Ω–∞—Ç—É
python3 tools/room_generator.py bedroom public/assets/tilemaps/my_room.json 20 15

# 3. –û—Ç–∫—Ä—ã—Ç—å –≤ Tiled –¥–ª—è –¥–æ—Ä–∞–±–æ—Ç–∫–∏
open public/assets/tilemaps/my_room.json

# 4. –í Tiled:
#    - –î–æ–±–∞–≤–∏—Ç—å –¥–≤–µ—Ä–∏ –≤ —Å–ª–æ–π Walls
#    - –†–∞—Å—Å—Ç–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –º–µ–±–µ–ª—å
#    - –î–æ–±–∞–≤–∏—Ç—å –¥–µ–∫–æ—Ä–∞—Ü–∏–∏
#    - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å collision properties

# 5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ Tiled (File ‚Üí Save)

# 6. –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤ –∏–≥—Ä—É —á–µ—Ä–µ–∑ PreloadScene.js
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ tilemap JSON

–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON —Ñ–∞–π–ª –∏–º–µ–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

```json
{
  "width": 20,
  "height": 15,
  "tilewidth": 16,
  "tileheight": 16,
  "tilesets": [
    {
      "firstgid": 1,
      "source": "../tilesets/floor_bedroom.png"
    },
    {
      "firstgid": 101,
      "source": "../tilesets/room_structure.png"
    }
  ],
  "layers": [
    {
      "id": 1,
      "name": "Floor",
      "type": "tilelayer",
      "data": [61, 61, 61, ...]
    },
    {
      "id": 2,
      "name": "Walls",
      "data": [105, 106, 107, ...]
    }
  ]
}
```

**–í–∞–∂–Ω–æ:**
- `firstgid` - –Ω–∞—á–∞–ª—å–Ω—ã–π ID –¥–ª—è –∫–∞–∂–¥–æ–≥–æ tileset
- `data` - –º–∞—Å—Å–∏–≤ ID —Ç–∞–π–ª–æ–≤ (0 = –ø—É—Å—Ç–æ)
- ID —Å—á–∏—Ç–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ: tileset1_first_gid + –ø–æ–∑–∏—Ü–∏—è_–≤_tileset

---

## ‚ùì FAQ

### –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ç–∞–π–ª–∞?

```bash
python3 tools/tileset_generator.py tiles.png --tile-size 32
```

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç—Å—Ç—É–ø—ã –º–µ–∂–¥—É —Ç–∞–π–ª–∞–º–∏?

```bash
python3 tools/tileset_generator.py tiles.png --spacing 2 --margin 1
```

### –ö–∞–∫ —É–∑–Ω–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–∞–π–ª–∞ –≤ PNG?

–û—Ç–∫—Ä–æ–π—Ç–µ PNG –≤ –ª—é–±–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:
- –ü–µ—Ä–≤—ã–π —Ç–∞–π–ª (–≤–µ—Ä—Ö–Ω–∏–π –ª–µ–≤—ã–π) = (0, 0)
- –í—Ç–æ—Ä–æ–π –≤ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ = (1, 0)
- –ü–µ—Ä–≤—ã–π –≤–æ –≤—Ç–æ—Ä–æ–π —Å—Ç—Ä–æ–∫–µ = (0, 1)

–§–æ—Ä–º—É–ª–∞: `(X / tile_width, Y / tile_height)`

### –ú–æ–∂–Ω–æ –ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–∞—Ä—Ç—É?

–î–∞! –û—Ç–∫—Ä–æ–π—Ç–µ .json —Ñ–∞–π–ª –≤ Tiled:
1. `File ‚Üí Open`
2. –í—ã–±–µ—Ä–∏—Ç–µ generated_*.json
3. –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∫–∞–∫ –æ–±—ã—á–Ω—É—é –∫–∞—Ä—Ç—É
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å collision –≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–∞—Ä—Ç—É?

–í Tiled:
1. –í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ–π Walls –∏–ª–∏ Furniture
2. `View ‚Üí Tile Collision Editor`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ collision shapes
4. –ò–ª–∏ –≤ –∫–æ–¥–µ: `layer.setCollisionByExclusion([-1])`

---

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ:

1. ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å .tsx —Ñ–∞–π–ª—ã –∏–∑ –ª—é–±—ã—Ö PNG
2. ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –∫–æ–º–Ω–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä—ã –∏ —Ç–∏–ø—ã –∫–æ–º–Ω–∞—Ç
4. ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ Tiled
5. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –≤–∞—à–µ–π –∏–≥—Ä–µ

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ `room_generator.py` –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã
- –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–∏ —Ç–∏–ø—ã –∫–æ–º–Ω–∞—Ç
- –ù–∞–ø–∏—à–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ü–µ–ª–æ–π –∫–≤–∞—Ä—Ç–∏—Ä—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π—Ç–µ —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫—É NPC –∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤

**–£–¥–∞—á–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ! üéÆ**
